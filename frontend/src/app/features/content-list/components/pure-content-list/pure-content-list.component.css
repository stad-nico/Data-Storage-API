:host {
	background-color: var(--color-bg);

	border-radius: 0 1.625rem 1.625rem 0;

	display: block;

	/* overflow: hidden; */

	height: 25rem;

	position: relative;
}

:host.in-select-mode > .actions,
:host > .actions:hover {
	transform: translate(-50%, 0);

	filter: drop-shadow(0px 10px 10px rgba(0, 0, 0, 0.1));
}

:host.in-select-mode > .actions > .wrapper,
:host > .actions:hover > .wrapper {
	opacity: 1;

	cursor: pointer;
}

:host.in-select-mode > .actions > .arrow,
:host > .actions.hover > .arrow {
	filter: none;

	cursor: pointer;
}

:host > .actions {
	position: absolute;

	top: 0;

	left: 50%;

	transform: translate(-50%, -3.25rem);

	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: start;

	transition: all 0.2s ease;
}

:host > .actions > .arrow {
	width: 1.125rem;

	fill: var(--color-icon);

	background-color: var(--color-bg-secondary);

	border-radius: 0 0 0.5rem 0.5rem;

	padding: 0 0.625rem;

	filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.1));
}

:host > .actions > .arrow:hover {
	cursor: pointer;
}

:host > .actions > .wrapper {
	opacity: 0;

	padding: 0.625rem;

	background-color: var(--color-bg-secondary);

	display: flex;
	align-items: center;
	justify-content: center;

	border-radius: 0 0 1rem 1rem;

	gap: 0.625rem;

	transition: all 0.2s ease;
}

:host > .actions > .wrapper > .action {
	display: flex;
	align-items: center;
	justify-content: center;

	background-color: var(--color-background-1100);

	border-radius: 0.375rem;

	padding: 0.25rem;

	box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.1);

	transition: all 0.2s ease;
}

:host > .actions > .wrapper > .action:hover {
	scale: 1.1;

	cursor: pointer;

	background-color: var(--color-bg-hover);
}

:host > .actions > .wrapper > .action:hover > .icon {
	fill: var(--color-icon-hover);
}

:host > .actions > .wrapper > .action > .icon {
	width: 1.5rem;

	fill: var(--color-icon);
}

:host > .actions > .wrapper > .action.delete:hover {
	background: var(--color-bg-danger);
}

:host > .actions > .wrapper > .action.delete > .icon {
	fill: var(--color-icon-danger);
}

:host > .actions > .wrapper > .action.delete:hover > .icon {
	fill: var(--color-icon-danger-hover);
}

:host > .items {
	box-sizing: border-box;
	overflow: scroll;

	width: 100%;
	height: 100%;

	padding: 1.625rem;
}

:host > .items > selectable-list-item {
	display: flex;
	align-items: center;
	justify-content: start;

	margin-bottom: 0.125rem;
}

:host > .items > selectable-list-item file-list-item,
:host > .items > selectable-list-item directory-list-item {
	transition:
		border-radius 0.2s ease,
		background-color 0.2s ease;
}

/* The following code matches blocks of selected adjacent items */

/* Match the actual file-list-item or directory-list-item to adjust border radius: */

/* FIRST */
/* Match the file-list-item of the first selected list item that is immediately followed by another selected list item */
selectable-list-item.selected:first-of-type:has(+ selectable-list-item.selected) file-list-item,
/* Match the directory-list-item of the first selected list item that is immediately followed by another selected list item */
selectable-list-item.selected:first-of-type:has(+ selectable-list-item.selected) directory-list-item,
/* Match the file-list-item of a selected list item that is placed after a non selected list item and immediately followed by another selected list item */
selectable-list-item:not(.selected) + selectable-list-item.selected:has(+ selectable-list-item.selected) file-list-item,
/* Match the directory-list-item of a selected list item that is placed after a non selected list item and immediately followed by another selected list item */
selectable-list-item:not(.selected) + selectable-list-item.selected:has(+ selectable-list-item.selected) directory-list-item {
	border-radius: 0.9rem 0.9rem 0 0;
	padding-bottom: 0.125rem;
}

/* MIDDLE */
/* Match the file-list-item of a selected list item that is preceded by and placed after a selected list item */
selectable-list-item.selected + selectable-list-item.selected:not(:last-of-type):has(+ selectable-list-item.selected) file-list-item,
/* Match the directory-list-item of a selected list item that is preceded by and placed after a selected list item */
selectable-list-item.selected + selectable-list-item.selected:not(:last-of-type):has(+ selectable-list-item.selected) directory-list-item {
	border-radius: 0;
	padding-bottom: 0.125rem;
}

/* LAST */
/* Match the file-list-item of the last selected list item that is placed after a selected list item */
selectable-list-item.selected + selectable-list-item.selected:last-of-type file-list-item,
/* Match the directory-list-item of the last selected list item that is placed after a selected list item */
selectable-list-item.selected + selectable-list-item.selected:last-of-type directory-list-item,
/* Match the file-list-item of a selected list item that is placed after a selected list item and followed by a non selected  list item */
selectable-list-item.selected + selectable-list-item.selected:not(:first-of-type):has(+ :not(selectable-list-item.selected)) file-list-item,
/* Match the directory-list-item of a selected list item that is placed after a selected list item and followed by a non selected  list item */
selectable-list-item.selected + selectable-list-item.selected:not(:first-of-type):has(+ :not(selectable-list-item.selected)) directory-list-item {
	border-radius: 0 0 0.9rem 0.9rem;
}

/* Match any selectable-list-item that is in the beginning or in the middle of a coherent block to adjust margin: */
selectable-list-item.selected:first-of-type:has(+ selectable-list-item.selected),
selectable-list-item:not(.selected) + selectable-list-item.selected:has(+ selectable-list-item.selected),
selectable-list-item.selected + selectable-list-item.selected:not(:last-of-type):has(+ selectable-list-item.selected) {
	margin-bottom: 0;
}
